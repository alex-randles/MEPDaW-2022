@prefix cdo: <https://change-detection-ontology.adaptcentre.ie/#> .
@prefix detection-time: <http://www.example.com/detectionTime/> .
@prefix dul: <http://www.ontologydesignpatterns.org/ont/dul/DUL.owl#> .
@prefix foaf: <http://xmlns.com/foaf/0.1/> .
@prefix insert-change: <http://www.example.com/insertChange/> .
@prefix delete-change: <http://www.example.com/deleteChange/> .
@prefix change-log: <http://www.example.com/changeLog/> .
@prefix lode: <http://linkedevents.org/ontology/> .
@prefix notification-policy: <http://www.example.com/notificationPolicy/> .
@prefix notification-constraint: <http://www.example.com/notificationConstraint/> .
@prefix policy-obligation: <http://www.example.com/policyObligation/> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix rei-constraint: <http://www.cs.umbc.edu/~lkagal1/rei/ontologies/ReiConstraint.owl#> .
@prefix rei-deontic: <http://www.cs.umbc.edu/~lkagal1/rei/ontologies/ReiDeontic.owl#> .
@prefix rei-policy: <http://www.cs.umbc.edu/~lkagal1/rei/ontologies/ReiPolicy.owl#> .
@prefix time: <http://www.w3.org/2006/time#> .
@prefix user: <http://www.example.com/userActor/> .
@prefix xml: <http://www.w3.org/XML/1998/namespace> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

# Graph generated by executing the component on the RML test case CSV files (https://rml.io/test-cases/)

change-log:0 a cdo:ChangeLog ;
    cdo:hasChange delete-change:0,
        delete-change:1,
        insert-change:0,
        insert-change:1,
        insert-change:2,
        insert-change:3,
        insert-change:4,
        insert-change:5,
        insert-change:6 ;
    cdo:hasCurrentVersion <https://raw.githubusercontent.com/kg-construct/rml-test-cases/master/test-cases/RMLTC0009a-CSV/student.csv> ;
    cdo:hasOwner user:1 ;
    cdo:hasPreviousVersion <https://raw.githubusercontent.com/kg-construct/rml-test-cases/master/test-cases/RMLTC0002a-CSV/student.csv> .

notification-policy:0 a rei-policy:Policy ;
    rei-policy:desc "Notification policy for user 1" ;
    rei-policy:grants <http://www.example.com/policyObligation/0> ;
    time:inXSDDateTimeStamp "2022-09-01 00:00:00.0000"^^xsd:dateTimeStamp ;
    cdo:hasDetectionEnd "2022-09-01 00:00:00.0000"^^xsd:dateTime ;
    cdo:hasDetectionStart "2022-07-20 22:15:44.952566"^^xsd:dateTime .

<http://www.example.com/datatypeChangeConstraint/0> a rei-constraint:SimpleConstraint ;
    rei-constraint:object "0" ;
    rei-constraint:predicate cdo:hasThreshold ;
    rei-constraint:subject cdo:DatatypeSourceData .

delete-change:0 a cdo:DeleteSourceData ;
    lode:atTime detection-time:7 ;
    cdo:hasReason "ID: 10" .

delete-change:1 a cdo:DeleteSourceData ;
    lode:atTime detection-time:8 ;
    cdo:hasReason "Name: Venus" .

<http://www.example.com/deleteChangeConstraint/0> a rei-constraint:SimpleConstraint ;
    rei-constraint:object "5" ;
    rei-constraint:predicate cdo:hasThreshold ;
    rei-constraint:subject cdo:DeleteSourceData .

detection-time:0 a time:Instant ;
    time:inXSDDateTimeStamp "2022-07-20 22:15:45.843376"^^xsd:dateTimeStamp .

detection-time:1 a time:Instant ;
    time:inXSDDateTimeStamp "2022-07-20 22:15:45.843376"^^xsd:dateTimeStamp .

detection-time:2 a time:Instant ;
    time:inXSDDateTimeStamp "2022-07-20 22:15:45.843376"^^xsd:dateTimeStamp .

detection-time:3 a time:Instant ;
    time:inXSDDateTimeStamp "2022-07-20 22:15:45.843376"^^xsd:dateTimeStamp .

detection-time:4 a time:Instant ;
    time:inXSDDateTimeStamp "2022-07-20 22:15:45.843376"^^xsd:dateTimeStamp .

detection-time:5 a time:Instant ;
    time:inXSDDateTimeStamp "2022-07-20 22:15:45.843376"^^xsd:dateTimeStamp .

detection-time:6 a time:Instant ;
    time:inXSDDateTimeStamp "2022-07-20 22:15:45.843376"^^xsd:dateTimeStamp .

detection-time:7 a time:Instant ;
    time:inXSDDateTimeStamp "2022-07-20 22:15:45.843376"^^xsd:dateTimeStamp .

detection-time:8 a time:Instant ;
    time:inXSDDateTimeStamp "2022-07-20 22:15:45.843376"^^xsd:dateTimeStamp .

insert-change:0 a cdo:InsertSourceData ;
    lode:atTime detection-time:0 ;
    cdo:hasReason "ID: 10" .

insert-change:1 a cdo:InsertSourceData ;
    lode:atTime detection-time:1 ;
    cdo:hasReason "Sport: 100" .

insert-change:2 a cdo:InsertSourceData ;
    lode:atTime detection-time:2 ;
    cdo:hasReason "Name: Venus Williams" .

insert-change:3 a cdo:InsertSourceData ;
    lode:atTime detection-time:3 ;
    cdo:hasReason "ID: 20" .

insert-change:4 a cdo:InsertSourceData ;
    lode:atTime detection-time:4 ;
    cdo:hasReason "Sport: Null Value" .

insert-change:5 a cdo:InsertSourceData ;
    lode:atTime detection-time:5 ;
    cdo:hasReason "Name: Demi Moore" .

insert-change:6 a cdo:InsertSourceData ;
    lode:atTime detection-time:6 ;
    cdo:hasReason "Column Added: Sport" .

<http://www.example.com/insertChangeConstraint/0> a rei-constraint:SimpleConstraint ;
    rei-constraint:object "10" ;
    rei-constraint:predicate cdo:hasThreshold ;
    rei-constraint:subject cdo:InsertSourceData .

<http://www.example.com/mergeChangeConstraint/0> a rei-constraint:SimpleConstraint ;
    rei-constraint:object "0" ;
    rei-constraint:predicate cdo:hasThreshold ;
    rei-constraint:subject cdo:MergeSourceData .

<http://www.example.com/moveChangeConstraint/0> a rei-constraint:SimpleConstraint ;
    rei-constraint:object "0" ;
    rei-constraint:predicate cdo:hasThreshold ;
    rei-constraint:subject cdo:MoveSourceData .

<http://www.example.com/notificationConstraint/0> a rei-constraint:And ;
    rei-constraint:fifth <http://www.example.com/mergeChangeConstraint/0> ;
    rei-constraint:first <http://www.example.com/insertChangeConstraint/0> ;
    rei-constraint:fourth <http://www.example.com/updateChangeConstraint/0> ;
    rei-constraint:second <http://www.example.com/deleteChangeConstraint/0> ;
    rei-constraint:sixth <http://www.example.com/datatypeChangeConstraint/0> ;
    rei-constraint:third <http://www.example.com/moveChangeConstraint/0> .

policy-obligation:0 a rei-deontic:Obligation ;
    rei-deontic:action cdo:sendNotification ;
    rei-deontic:obligedTo cdo:softwareAgent ;
    rei-deontic:startingConstraint notification-constraint:0 ;
    rei-policy:actor user:1,
        cdo:softwareAgent .

<http://www.example.com/updateChangeConstraint/0> a rei-constraint:SimpleConstraint ;
    rei-constraint:object "0" ;
    rei-constraint:predicate cdo:hasThreshold ;
    rei-constraint:subject cdo:UpdateSourceData .

user:1 a <http://www.cs.umbc.edu/~lkagal1/rei/ontologies/ReiEntity.owl#Agent>,
        dul:Agent,
        foaf:Person ;
    foaf:mbox "alex.randles@adaptcentre.com" .

